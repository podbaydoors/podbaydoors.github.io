<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>GLFW Emscripten</title>
    <style>
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            background: black;
            overflow: hidden;
        }

        canvas {
            display: block;
            width: 100% !important;
            height: 100vh !important;
        }
    </style>
</head>
<body>
    <canvas id="canvas" oncontextmenu="event.preventDefault()"></canvas>
    <script>
        var Module = {
            canvas: document.getElementById('canvas')
        };

        function resizeCanvas() {
            const width = window.innerWidth;
            const height = window.innerHeight;

            // Update canvas size
            Module.canvas.width = width;
            Module.canvas.height = height;

            if (Module && Module.ccall) {
                try {
                    Module.ccall('emscripten_resize_window',
                        'void',
                        ['number', 'number'],
                        [width, height]);
                } catch (e) {
                    console.log("Resize failed:", e);
                }
            }
        }

        window.addEventListener('resize', resizeCanvas);

        // Add initial resize to preRun
        Module['onRuntimeInitialized'] = function () {
            console.log("Module initialized, performing initial resize");
            resizeCanvas();
        }
    </script>
    <script async type="text/javascript" src="Omega.js"></script>
</body>
</html>
